<!DOCTYPE html><html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>CTX‚ÄëREGENERATIVO ‚Äì Simulador Bio√©tico</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f4f4f4;
      color: #222;
      margin: 0;
      padding: 20px;
      transition: all 0.5s ease;
    }body.dark {
  background-color: #121212;
  color: #eee;
}

.container {
  max-width: 700px;
  margin: auto;
  background: #fff;
  padding: 30px;
  border-radius: 20px;
  box-shadow: 0 0 25px rgba(0,0,0,0.2);
}

body.dark .container {
  background: #1e1e1e;
}

h1 {
  font-size: 24px;
  margin-bottom: 10px;
  color: #007b00;
}

label {
  display: block;
  margin-top: 15px;
}

input[type="number"] {
  width: 100%;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid #aaa;
}

button {
  margin-top: 15px;
  margin-right: 8px;
  padding: 10px 16px;
  background: #007b00;
  color: #fff;
  font-weight: bold;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
}

button:hover {
  background: #005500;
  transform: scale(1.05);
}

.result, .ia-response {
  margin-top: 20px;
  padding: 15px;
  border-radius: 10px;
  background-color: #eafbe7;
}

.ia-response {
  background-color: #fffce0;
  font-style: italic;
}

#historico {
  margin-top: 30px;
}

details summary {
  cursor: pointer;
  font-weight: bold;
}

  </style>
</head>
<body>
  <div class="container">
    <h1 id="titulo">üß¨ CTX‚ÄëREGENERATIVO ‚Äì Simulador Bio√©tico</h1><label id="lblIdade" for="idade">Idade do paciente:</label>
<input type="number" id="idade" placeholder="Ex: 45">

<label id="lblDanos" for="danos">Percentual de danos celulares (%):</label>
<input type="number" id="danos" placeholder="Ex: 35">

<label id="lblEtica" for="etica">A √©tica foi respeitada? (0 = N√£o, 1 = Sim)</label>
<input type="number" id="etica" placeholder="Ex: 1">

<br>
<button onclick="simular()" id="btnSimular">‚ñ∂Ô∏è Simular</button>
<button onclick="iniciarVoz()" id="btnVoz">üéôÔ∏è Voz</button>
<button onclick="mostrarHistorico()" id="btnHistorico">üßæ Hist√≥rico</button>
<button onclick="alternarModo()" id="btnModo">üåì Modo</button>
<button onclick="alternarIdioma()" id="btnIdioma">üåê EN</button>

<div class="result" id="resultado"></div>
<div class="ia-response" id="iaTexto"></div>
<div id="historico"></div>

  </div>  <script>
    let idioma = 'pt';

    const textos = {
      pt: {
        titulo: "üß¨ CTX‚ÄëREGENERATIVO ‚Äì Simulador Bio√©tico",
        lblIdade: "Idade do paciente:",
        lblDanos: "Percentual de danos celulares (%):",
        lblEtica: "A √©tica foi respeitada? (0 = N√£o, 1 = Sim)",
        btnSimular: "‚ñ∂Ô∏è Simular",
        btnVoz: "üéôÔ∏è Voz",
        btnHistorico: "üßæ Hist√≥rico",
        btnModo: "üåì Modo",
        btnIdioma: "üåê EN",
        erro: "‚ö†Ô∏è Por favor, preencha todos os campos corretamente.",
        rejeitado: "üö® Paciente n√£o eleg√≠vel para terapia regenerativa.",
        iaRejeitado: "IA DALA.CTX: Recomendo cuidados paliativos personalizados. üïäÔ∏è",
        violacao: "‚ö†Ô∏è A simula√ß√£o foi interrompida por viola√ß√£o √©tica.",
        iaViolacao: "IA DALA.CTX: O progresso sem √©tica √© regress√£o. ‚õî",
        aprovado: "‚úÖ Terapia CTX-Regenerativa aprovada com sucesso!",
        iaAprovado: "IA DALA.CTX: Par√¢metros seguros. Iniciando protocolo de restaura√ß√£o. üå±‚ú®",
        resumo: "Resumo da Simula√ß√£o"
      },
      en: {
        titulo: "üß¨ CTX‚ÄëREGENERATIVE ‚Äì Bioethical Simulator",
        lblIdade: "Patient's Age:",
        lblDanos: "Cellular Damage Percentage (%):",
        lblEtica: "Was ethics respected? (0 = No, 1 = Yes)",
        btnSimular: "‚ñ∂Ô∏è Simulate",
        btnVoz: "üéôÔ∏è Voice",
        btnHistorico: "üßæ History",
        btnModo: "üåì Mode",
        btnIdioma: "üåê PT",
        erro: "‚ö†Ô∏è Please fill in all fields correctly.",
        rejeitado: "üö® Patient not eligible for regenerative therapy.",
        iaRejeitado: "AI DALA.CTX: I recommend personalized palliative care. üïäÔ∏è",
        violacao: "‚ö†Ô∏è Simulation blocked due to ethical violation.",
        iaViolacao: "AI DALA.CTX: Progress without ethics is regression. ‚õî",
        aprovado: "‚úÖ Regenerative CTX Therapy approved!",
        iaAprovado: "AI DALA.CTX: Safe parameters. Initiating restoration protocol. üå±‚ú®",
        resumo: "Simulation Summary"
      }
    };

    function atualizarIdioma() {
      const t = textos[idioma];
      document.getElementById('titulo').innerText = t.titulo;
      document.getElementById('lblIdade').innerText = t.lblIdade;
      document.getElementById('lblDanos').innerText = t.lblDanos;
      document.getElementById('lblEtica').innerText = t.lblEtica;
      document.getElementById('btnSimular').innerText = t.btnSimular;
      document.getElementById('btnVoz').innerText = t.btnVoz;
      document.getElementById('btnHistorico').innerText = t.btnHistorico;
      document.getElementById('btnModo').innerText = t.btnModo;
      document.getElementById('btnIdioma').innerText = t.btnIdioma;
    }

    function alternarIdioma() {
      idioma = idioma === 'pt' ? 'en' : 'pt';
      atualizarIdioma();
    }

    function simular() {
      const t = textos[idioma];
      const idade = parseInt(document.getElementById("idade").value);
      const danos = parseInt(document.getElementById("danos").value);
      const etica = parseInt(document.getElementById("etica").value);

      const resultadoDiv = document.getElementById("resultado");
      const iaDiv = document.getElementById("iaTexto");

      if (isNaN(idade) || isNaN(danos) || isNaN(etica)) {
        resultadoDiv.innerText = t.erro;
        iaDiv.innerText = "";
        return;
      }

      let resultado = "", iaTexto = "";

      if (danos > 70 || idade > 80) {
        resultado = t.rejeitado;
        iaTexto = t.iaRejeitado;
      } else if (etica === 0) {
        resultado = t.violacao;
        iaTexto = t.iaViolacao;
      } else {
        resultado = t.aprovado;
        iaTexto = t.iaAprovado;
      }

      resultadoDiv.innerText = resultado;
      iaDiv.innerText = iaTexto;

      const historico = localStorage.getItem("historico") || "";
      const novo = `${t.resumo}:\nIdade: ${idade}, Danos: ${danos}%, √âtica: ${etica} ‚Üí ${resultado}\n${iaTexto}\n---\n`;
      localStorage.setItem("historico", historico + novo);
    }

    function mostrarHistorico() {
      const div = document.getElementById("historico");
      const hist = (localStorage.getItem("historico") || "").split("---");
      div.innerHTML = hist.map((h, i) => `
        <details>
          <summary>üßæ ${idioma === 'pt' ? 'Simula√ß√£o' : 'Simulation'} ${i + 1}</summary>
          <pre>${h.trim()}</pre></details>
  `).join('');
}

function alternarModo() {
  document.body.classList.toggle("dark");
}

function iniciarVoz() {
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  const reconhecimento = new SpeechRecognition();
  reconhecimento.lang = idioma === "pt" ? "pt-PT" : "en-US";
  reconhecimento.start();

  reconhecimento.onresult = function(event) {
    const texto = event.results[0][0].transcript;
    alert((idioma === "pt" ? "Voc√™ disse: " : "You said: ") + texto);
  }
}

atualizarIdioma();

  </script>
</body>
</html>
